@baseUrl = localhost
@orderservicePort = 5001
@orderserviceDaprPort = 5010
###
# @name simpleOrderRequest
POST http://{{baseUrl}}:{{orderservicePort}}/order HTTP/1.1
content-type: application/json

{
  "CustomerCode": "Davide",
  "Date": "{{$datetime 'YYYY-MM-DD'}}",
  "Items": [
    {
      "ProductCode": "cookie4",
      "Quantity": 7
    },
    {
      "ProductCode": "bussola1",
      "Quantity": 6
    }
  ]
}
###

@orderId = {{simpleOrderRequest.response.body.$}}
GET http://{{baseUrl}}:{{orderservicePort}}/order/{{orderId}}
###
GET http://{{baseUrl}}:{{orderserviceDaprPort}}/v1.0/state/orderstore/{{orderId}}
###
POST http://localhost:5002/reserve HTTP/1.1
content-type: application/json

{
    "SKU": "cookie2",
    "Quantity": 4
}
###
@reservationservicePort = 5002
@reservationserviceDaprPort = 5020
###
GET http://{{baseUrl}}:{{reservationserviceDaprPort}}/v1.0/state/reservationstore/cookie2  HTTP/1.1
###
GET http://{{baseUrl}}:{{reservationservicePort}}/balance/cookie2 HTTP/1.1
###